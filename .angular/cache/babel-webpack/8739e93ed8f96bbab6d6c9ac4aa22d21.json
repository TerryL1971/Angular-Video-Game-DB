{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/http.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/select\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/core\";\nimport * as i7 from \"@angular/common\";\n\nfunction HomeComponent_ng_container_20_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 19);\n  }\n\n  if (rf & 2) {\n    const game_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", game_r1.background_image, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomeComponent_ng_container_20_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No image\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomeComponent_ng_container_20_img_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 20);\n  }\n\n  if (rf & 2) {\n    const gamePlatform_r6 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"src\", \"assets/images/platforms/\", gamePlatform_r6.platform.slug, \".svg\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", gamePlatform_r6.platform.slug);\n  }\n}\n\nfunction HomeComponent_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_20_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const game_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.openGameDetails(game_r1.id);\n    });\n    i0.ɵɵelementStart(2, \"div\", 12);\n    i0.ɵɵtemplate(3, HomeComponent_ng_container_20_img_3_Template, 1, 1, \"img\", 13);\n    i0.ɵɵtemplate(4, HomeComponent_ng_container_20_p_4_Template, 2, 0, \"p\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 15);\n    i0.ɵɵelementStart(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵtemplate(9, HomeComponent_ng_container_20_img_9_Template, 1, 2, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const game_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", game_r1.background_image);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !game_r1.background_image);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(game_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", game_r1.parent_platforms);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(httpService, router, activatedRoute) {\n      this.httpService = httpService;\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n    }\n\n    ngOnInit() {\n      this.routeSub = this.activatedRoute.params.subscribe(params => {\n        if (params['game-search']) {\n          this.searchGames('metacrit', params['game-search']);\n        } else {\n          this.searchGames('metacrit');\n        }\n      });\n    }\n\n    searchGames(sort, search) {\n      this.gameSub = this.httpService.getGameList(sort, search).subscribe(gameList => {\n        this.games = gameList.results;\n        console.log(gameList);\n      });\n    }\n\n    openGameDetails(id) {\n      this.router.navigate(['details', id]);\n    }\n\n    ngOnDestroy() {\n      if (this.gameSub) {\n        this.gameSub.unsubscribe();\n      }\n\n      if (this.routeSub) {\n        this.routeSub.unsubscribe();\n      }\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 21,\n    vars: 2,\n    consts: [[1, \"filters\"], [\"panelClass\", \"sort-select\", 3, \"ngModel\", \"ngModelChange\", \"selectionChange\"], [\"value\", \"name\"], [\"value\", \"-released\"], [\"value\", \"-added\"], [\"value\", \"-created\"], [\"value\", \"-updated\"], [\"value\", \"-rating\"], [\"value\", \"metacritic\"], [1, \"games\"], [4, \"ngFor\", \"ngForOf\"], [1, \"game\", 3, \"click\"], [1, \"game-thumb-container\"], [\"alt\", \"thumbnail\", \"class\", \"game-thumbnail\", 3, \"src\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"game-description\"], [1, \"game-name\"], [1, \"game-platforms\"], [\"class\", \"game-platform\", 3, \"src\", \"alt\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"thumbnail\", 1, \"game-thumbnail\", 3, \"src\"], [1, \"game-platform\", 3, \"src\", \"alt\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"mat-form-field\");\n        i0.ɵɵelementStart(2, \"mat-label\");\n        i0.ɵɵtext(3, \"Sort\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-select\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_mat_select_ngModelChange_4_listener($event) {\n          return ctx.sort = $event;\n        })(\"selectionChange\", function HomeComponent_Template_mat_select_selectionChange_4_listener() {\n          return ctx.searchGames(ctx.sort);\n        });\n        i0.ɵɵelementStart(5, \"mat-option\", 2);\n        i0.ɵɵtext(6, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-option\", 3);\n        i0.ɵɵtext(8, \"Released\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-option\", 4);\n        i0.ɵɵtext(10, \"Added\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-option\", 5);\n        i0.ɵɵtext(12, \"Created\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-option\", 6);\n        i0.ɵɵtext(14, \"Updated\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-option\", 7);\n        i0.ɵɵtext(16, \"Rating\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-option\", 8);\n        i0.ɵɵtext(18, \"Metacritic\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵtemplate(20, HomeComponent_ng_container_20_Template, 10, 4, \"ng-container\", 10);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.sort);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.games);\n      }\n    },\n    directives: [i3.MatFormField, i3.MatLabel, i4.MatSelect, i5.NgControlStatus, i5.NgModel, i6.MatOption, i7.NgForOf, i7.NgIf],\n    styles: [\".filters[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding-left:20px}  .mat-form-field-infix{background-color:#3f51b5}  .mat-select-value,   .mat-select-arrow,   .mat-form-field-hide-placeholder .mat-select-placeholder,   .mat-form-field-appearance-legacy .mat-form-field-label{color:#fff!important;opacity:1}  .mat-form-field-infix{border-color:#fff!important;border-top:none;padding-left:5px!important}  .mat-form-field-appearance-legacy .mat-form-field-label{padding-left:5px}  .mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#fff!important}.games[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;max-width:1200px;margin:20px auto}.game[_ngcontent-%COMP%]{width:280px;margin:10px;height:330px;overflow:hidden;border-radius:5px;background-color:#202020;box-shadow:4px 3px 8px #c8982c38;transition-duration:.3s;cursor:pointer}.game[_ngcontent-%COMP%]:hover{box-shadow:4px 3px 11px 6px #c8982c75;transform:translateY(-3px)}.game-thumb-container[_ngcontent-%COMP%]{background-color:#000;position:relative;height:172px;color:#fff;text-align:center}.game-thumbnail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:0 auto;height:172px}.game-description[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;justify-content:flex-end;height:157px}.game-name[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:22px;margin-bottom:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.game-platforms[_ngcontent-%COMP%]{display:flex}.game-platform[_ngcontent-%COMP%]{width:20px;margin-right:10px}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}